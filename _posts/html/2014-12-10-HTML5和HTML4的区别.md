---
layout: post
category : html
tagline: ""
tags : [html, html5]
---
{% include JB/setup %}


### 语法

HTML定义了“HTML语法”，他主要是兼容已在web上发布的HTML4和XHTML1文档，但是不兼容HTML4的那些深奥的SGML特性，例如[处理说明 processing instructions](http://www.w3.org/TR/1999/REC-html401-19991224/appendix/notes.html#h-B.3.6)和[简写标记 shorthand markup](http://www.w3.org/TR/1999/REC-html401-19991224/appendix/notes.html#h-B.3.7)这些，大部分的用户代理都不支持他们。使用`text/html`媒介类型的文档使用HTML语法。

<!--more-->

HTML也定义了解析规则的细节（包括错误处理）的相关语法，这主要是为了兼容HTML4时代的实现。对于有`text/html`媒介类型的资源，用户代理不得不用这些规则。这里就有一个符合HTML语法的例子：

```html
<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Example document</title>
  </head>
  <body>
    <p>Example paragraph</p>
  </body>
</html>
```

能给HTML使用的另外一种语法就是XML。这种语法兼容XHTML1文档和实现。使用这种语法的文档需要和XML媒介类型（例如`application/xhtml+xml`或者`application/xml`）搭配，且元素需要根据XML规范设定的规则放在 _http://www.w3.org/1999/xhtml_ 命名空间中。[XML](http://www.w3.org/TR/xml/) [XMLNS](http://www.w3.org/TR/xml-names/)

下面的示例文档就是兼容XML语法的HTML。

```xhtml
<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Example document</title>
  </head>
  <body>
    <p>Example paragraph</p>
  </body>
</html>
```

#### 字符编码

对于HTML语法，Web开发者需要声明字符编码。有三种方式来设置：

* 在传输层；例如，通过使用HTTP的`Content-Type`头。

* 在文件开始的地方使用Unicode BOM(Byte Order Mark) 字符。这个字符提供使用编码的标记。

* 使用在文档的前1024字节中带有指定编码的[charset](http://www.w3.org/TR/html5/single-page.html#attr-meta-charset)属性的[meta](http://www.w3.org/TR/html5/single-page.html#the-meta-element)元素；例如，`<meta charset="UTF-8">`能用来指定UTF-8编码。他替换了`<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">`（尽管该语法仍然可以使用）的需求。

对于XML语法，Web开发者必须使用在XML规范中设定的规则来指定字符编码。

#### Doctype

HTML语法需要指定doctype来确保浏览器在标准模式下渲染页面。doctype没有其他的用途。[Doctype](https://hsivonen.fi/doctype/)

HTML语法中doctype声明是`<!DOCTYPE html>`这样的，且不区分大小写。HTML早先的doctype版本更长，这是因为HTML语言是基于SGML的，因此需要引用一个DTD。现在情况已不是这样了，doctype仅仅用来触发使用HTML语法书写的文档的标准模式。浏览器已经支持了`<!DOCTYPE html>`。

在HTML语法中，为了支持不能生成最短doctype的传统的标记生成器，`<!DOCTYPE html SYSTEM "about:legacy-compat">`这个doctype也是允许的。

在HTML的语法中，HTML4.0、HTML4.01、XHTML1.0以及XHTML1.1的标准的doctype也是允许的。

在XML语法中，可能会使用任意的doctype声明，或者可能完全省略掉。带有XML媒介类型的文档往往以标准模式处理。

#### MathML和SVG

HTML语法允许在文档中使用MathML和SVG元素。`math`或者`svg`起始标签能使得HTML解析器切换到特殊的插入模式，这种模式会将元素和属性放进合适的命名空间中，且会修正有大小写混合的元素和属性，以及支持像在XML中的空元素语法。这种语法仍然是不区分大小写的且属性语法如同HTML元素的属性的语法。命名空间的声明可以省略。在插入模式中CDATA段落也是支持的。

一些MathML和SVG元素使得解析器切回到“HTML模式”，例如：`mtext`和`foreignObject`，因此你能使用HTML元素或者新的`math`或者`svg`元素。

例如，一个使用一些最低限度的语法特性的简单文档可能是这样的：

```html
<!doctype html>
<title>SVG in text/html</title>
<p>
 A green circle:
 <svg> <circle r="50" cx="50" cy="50" fill="green"/> </svg>
</p>
```

#### 其他

在HTML语法中，也有涉及一些其他的几个改动：

* `&lang;`和`&rang;`命名字符引用现在拓展到了 U+27E8 和 U+27E9（数学上的左/右角度括号） ，分别替代了 U+2329 和 U+232A （left/right-pointing角度括号）。

* 增加了很多新的命名字符引用，包括在MathML中的所有命名字符引用。

* 可空元素（在HTML4中是空元素）允许有一个尾斜杠。

* 和HTML4相比，`&`在更多情况下可以不转义。

* 属性之间必须至少有个空格符分割。

* 值为空的属性可以仅仅只有属性名，等号和值都是可以省略的，即使属性不是一个布尔属性也一样如此。（在HTML4中，普遍允许的省略的情况是该属性是一个布尔属性。实际上，对于可枚举的属性，HTML4允许仅使用属性值且省略属性名，但是没有浏览器支持。）

* 和HTML4相比，属性值可以省略引号，这样就能使用更大字符集。

* HTML解析器不会给属性值做任何的空白做归一化处理；例如，`id`属性的前导和结尾空白是不能被忽略的（因此现在就是无效的），且换行符能在不用字符引用的情况下在`input`元素的`value`值中使用。

* `optgroup`的结束标签是可以省略的。

* `colgroup`的起始标签现在是可以省略的，且会由HTML解析器自动推断出来。

### 语言

本段落分成了几个小段落，这样可以更加清楚的阐述和HTML4各个方面的不同。

#### 新元素

